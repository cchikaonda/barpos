{% load static %}
{% block js %}
<!-- jQuery -->
<script src="{% static '/plugins/jquery/jquery.min.js' %}"></script>
<!-- Bootstrap -->
<script src="{% static '/plugins/bootstrap/js/bootstrap.bundle.min.js' %}"></script>
<!-- overlayScrollbars -->
<script src="{% static '/plugins/overlayScrollbars/js/jquery.overlayScrollbars.min.js' %}"></script>
<!-- AdminLTE App -->
<script src="{% static '/dist/js/adminlte.js' %}"></script>
<!-- jQuery -->
<!-- Select2 -->
<script src="{% static '/plugins/select2/js/select2.full.min.js' %} "></script>
<!-- Bootstrap4 Duallistbox -->
<script src="{% static '/plugins/bootstrap4-duallistbox/jquery.bootstrap-duallistbox.min.js' %}"></script>
<!-- InputMask -->
<script src="{% static '/plugins/moment/moment.min.js'  %}"></script>
<script src="{% static '/plugins/inputmask/min/jquery.inputmask.bundle.min.js' %}"></script>
<!-- date-range-picker -->
<script src="{% static '/plugins/daterangepicker/daterangepicker.js' %}"></script>
<!-- bootstrap color picker -->
<script src="{% static '/plugins/bootstrap-colorpicker/js/bootstrap-colorpicker.min.js' %}"></script>
<!-- Tempusdominus Bootstrap 4 -->
<script src="{% static '/plugins/tempusdominus-bootstrap-4/js/tempusdominus-bootstrap-4.min.js' %}"></script>
<!-- Bootstrap Switch -->
<script src="{% static '/plugins/bootstrap-switch/js/bootstrap-switch.min.js' %}"></script>

<!-- OPTIONAL SCRIPTS -->
<script src="{% static '/dist/js/demo.js' %}"></script>

<!-- PAGE PLUGINS -->
<!-- jQuery Mapael -->
<script src="{% static '/plugins/jquery-mousewheel/jquery.mousewheel.js' %}"></script>  
<script src="{% static '/plugins/raphael/raphael.min.js' %}"></script>  
<script src="{% static '/plugins/jquery-mapael/jquery.mapael.min.js' %}"></script>  
<script src="{% static '/plugins/jquery-mapael/maps/usa_states.min.js' %}"></script>  
<!-- ChartJS -->
<script src="{% static '/plugins/chart.js/Chart.min.js' %}"></script>  
<!-- PAGE SCRIPTS -->
<script src="{% static '/dist/js/pages/dashboard2.js' %}"></script>
<script src="{% static '/custom_js/helpers.js' %}"></script>
<script src="{% static '/custom_js/current_date_time.js' %}"></script>

<!-- DataTables -->
<script src="{% static '/plugins/datatables/jquery.dataTables.min.js' %}"></script>
<script src="{% static '/plugins/datatables-bs4/js/dataTables.bootstrap4.min.js' %}"></script>
<script src="{% static '/plugins/datatables-responsive/js/dataTables.responsive.min.js' %}"></script>
<script src="{% static '/plugins/datatables-responsive/js/responsive.bootstrap4.min.js' %}"></script>

<script src="{% static '/plugins/datatables-buttons/js/dataTables.buttons.min.js' %}"></script>
<script src="{% static '/plugins/datatables-buttons/js/buttons.bootstrap4.min.js' %}"></script>
<script src="{% static '/plugins/jszip/jszip.min.js' %}"></script>
<script src="{% static '/plugins/pdfmake/pdfmake.min.js' %}"></script>
<script src="{% static '/plugins/pdfmake/vfs_fonts.js' %}"></script>
<script src="{% static '/plugins/datatables-buttons/js/buttons.html5.min.js' %}"></script>
<script src="{% static '/plugins/datatables-buttons/js/buttons.print.min.js' %}"></script>
<script src="{% static '/plugins/datatables-buttons/js/buttons.colVis.min.js' %}"></script>

<!-- AdminLTE App -->
<script src="{% static '/dist/js/adminlte.min.js' %}"></script>
<script src="{% static '/custom_js/tables_crud.js' %}"></script>
<script src="{% static '/plugins/intl-tel-input-master/build/js/intlTelInput.js' %}"></script>

<script src="{% static '/custom_js/pdf.js' %}"></script>
<script src="{% static '/custom_js/html2pdf.bundle.min.js' %}"></script>
<script src="{% static '/custom_js/excel.js' %}"></script>
<script src="{% static '/custom_js/table2excel.js' %}"></script>
<script src="{% static '/custom_js/current_date_time.js' %}"></script>




<script>
    var input = document.querySelector("#phone_number");
    window.intlTelInput(input, {
    // any initialisation options go here
    });
</script>

<!--Activating Links Script-->
<script>
    $(function(){
      var current = location.pathname;
      $('#nav ul li a').each(function(){
        var $this = $(this);
        //if current paths is like this link, make it active
        if($this.attr('href').indexOf(current) !== -1){
          $this.addClass('active');
          
        }
      })
    })
</script>
<!--End Activating Navigation Links-->

<!--Data Tables Functionality Scripts-->
<script>
    $(function () {
        $("#search_item_table").DataTable({
            "responsive": true,
            "autoWidth": false,
        });

        $("#orders-table").DataTable({
            "responsive": true, 
            "lengthChange": false, 
            "autoWidth": false,
            "buttons": ["copy", "csv", "excel", "pdf", "print", "colvis"]
        }).buttons().container().appendTo('#orders-table_wrapper .col-md-6:eq(0)');

        $('#unit-table').DataTable({
            "responsive":true,
            "lengthChange": false,
            "autoWidth": false,
            "buttons": ["copy", "csv", "excel", "pdf", "print", "colvis"]
        }).buttons().container().appendTo('#unit-table_wrapper .col-md-6:eq(0)');

        $('#item-table').DataTable({
            "responsive":true,
            "lengthChange": false,
            "autoWidth": false,
            "buttons": ["copy", "csv", "excel", "pdf", "print", "colvis"]
        }).buttons().container().appendTo('#item-table_wrapper .col-md-6:eq(0)');

        $("#customer-table").DataTable({
            "responsive": true, 
            "lengthChange": false, 
            "autoWidth": false,
            "buttons": ["copy", "csv", "excel", "pdf", "print", "colvis"]
        }).buttons().container().appendTo('#customer-table_wrapper .col-md-6:eq(0)');

        $('#category-table').DataTable({
            "responsive": true, 
            "lengthChange": false, 
            "autoWidth": false,
            "buttons": ["copy", "csv", "excel", "pdf", "print", "colvis"]
        }).buttons().container().appendTo('#category-table_wrapper .col-md-6:eq(0)');

        $("#unsettled_orders_table").DataTable({
            "responsive": true,
            "autoWidth": false,
        });

        $('#unpaid-orders-table').DataTable({
            "paging": true,
            "lengthChange": false,
            "searching": true,
            "ordering": true,
            "info": true,
            "autoWidth": false,
            "responsive": true,
        });

        $('#quotation-table').DataTable({
            "paging": true,
            "lengthChange": false,
            "searching": true,
            "ordering": true,
            "info": true,
            "autoWidth": false,
            "responsive": true,
        });

        $('#example2').DataTable({
            "paging": true,
            "lengthChange": false,
            "searching": false,
            "ordering": true,
            "info": true,
            "autoWidth": false,
            "responsive": true,
        });

        $('#user-table').DataTable({
            "paging": true,
            "lengthChange": false,
            "searching": true,
            "ordering": true,
            "info": true,
            "autoWidth": false,
            "responsive": true,
        });

        $('#product-table').DataTable({
            "paging": true,
            "lengthChange": false,
            "searching": true,
            "ordering": true,
            "info": true,
            "autoWidth": false,
            "responsive": true,
        });

        $('#stock-table').DataTable({
            "paging": true,
            "lengthChange": false,
            "searching": true,
            "ordering": true,
            "info": true,
            "autoWidth": false,
            "responsive": true,
        });

        $('#supplier-table').DataTable({
            "paging": true,
            "lengthChange": false,
            "searching": true,
            "ordering": true,
            "info": true,
            "autoWidth": false,
            "responsive": true,
        });

    });
</script>
<!--End Data Tables Functionality Scripts-->

<!--Bar Charts Scripts-->
<script>
    // Bar Chart for sales
    $(function () {
    'use strict'

    var ticksStyle = {
      fontColor: '#495057',
      fontStyle: 'bold'
    }

    var mode      = 'index'
    var intersect = true

    var $salesChart = $('#sales-chart')
    var salesChart  = new Chart($salesChart, {
      type   : 'bar',
      data   : {
        labels  : ['MON', 'TUE', 'WED', 'THU', 'FRI', 'SAT', 'SUN'],
        datasets: [
          {
            backgroundColor: '#28a745',
            borderColor    : '#28a745',
            data           :  [{{monday_total_sales.amount}}, {{tuesday_total_sales.amount}}, {{wednesday_total_sales.amount}}, {{thursday_total_sales.amount}}, {{friday_total_sales.amount}}, {{saturday_total_sales.amount}}, {{sunday_total_sales.amount}}]
          },
          {
            backgroundColor: '#6c757d',
            borderColor    : '#6c757d',
            data           : [{{lw_monday_total_sales.amount}}, {{lw_tuesday_total_sales.amount}}, {{lw_wednesday_total_sales.amount}}, {{lw_thursday_total_sales.amount}}, {{lw_friday_total_sales.amount}}, {{lw_saturday_total_sales.amount}}, {{lw_sunday_total_sales.amount}}]
          }
        ]
      },
      options: {
        maintainAspectRatio: false,
        tooltips           : {
          mode     : mode,
          intersect: intersect
        },
        hover              : {
          mode     : mode,
          intersect: intersect
        },
        legend             : {
          display: false
        },
        scales             : {
          yAxes: [{
            // display: false,
            gridLines: {
              display      : true,
              lineWidth    : '4px',
              color        : 'rgba(0, 0, 0, .2)',
              zeroLineColor: 'transparent'
            },
            ticks    : $.extend({
              beginAtZero: true,

              // Include a dollar sign in the ticks
              callback: function (value, index, values) {
                // if (value >= 1000) {
                //   value /= 1000
                //   value += 'k'
                // }
                return 'MWK ' + value
              }
            }, ticksStyle)
          }],
          xAxes: [{
            display  : true,
            gridLines: {
              display: false
            },
            ticks    : ticksStyle
          }]
        }
      }
    })

    var $visitorsChart = $('#visitors-chart')
    var visitorsChart  = new Chart($visitorsChart, {
      data   : {
        labels  : ['MON', 'TUE', 'WED', 'THU', 'FRI', 'SAT', 'SUN'],
        datasets: [{
          type                : 'line',
          data                : [{{monday_total_sales.amount}}, {{tuesday_total_sales.amount}}, {{wednesday_total_sales.amount}}, {{thursday_total_sales.amount}}, {{friday_total_sales.amount}}, {{saturday_total_sales.amount}}, {{sunday_total_sales.amount}}],
          backgroundColor     : 'transparent',
          borderColor         : '#28a745',
          pointBorderColor    : '#28a745',
          pointBackgroundColor: '#28a745',
          fill                : false
          // pointHoverBackgroundColor: '#007bff',
          // pointHoverBorderColor    : '#007bff'
        },
          {
            type                : 'line',
            data                : [{{lw_monday_total_sales.amount}}, {{lw_tuesday_total_sales.amount}}, {{lw_wednesday_total_sales.amount}}, {{lw_thursday_total_sales.amount}}, {{lw_friday_total_sales.amount}}, {{lw_saturday_total_sales.amount}}, {{lw_sunday_total_sales.amount}}],
            backgroundColor     : 'tansparent',
            borderColor         : '#6c757d',
            pointBorderColor    : '#6c757d',
            pointBackgroundColor: '#6c757d',
            fill                : false
            // pointHoverBackgroundColor: '#ced4da',
            // pointHoverBorderColor    : '#ced4da'
          }]
      },
      options: {
        maintainAspectRatio: false,
        tooltips           : {
          mode     : mode,
          intersect: intersect
        },
        hover              : {
          mode     : mode,
          intersect: intersect
        },
        legend             : {
          display: false
        },
        scales             : {
          yAxes: [{
            // display: false,
            gridLines: {
              display      : true,
              lineWidth    : '4px',
              color        : 'rgba(0, 0, 0, .2)',
              zeroLineColor: 'transparent'
            },
            ticks    : $.extend({
              beginAtZero : true,
              suggestedMax: 200,
              callback: function (value, index, values) {
                // if (value >= 1000) {
                //   value /= 1000
                //   value += 'k'
                // }
                return 'MWK ' + value
              }
            }, ticksStyle)
          }],
          xAxes: [{
            display  : true,
            gridLines: {
              display: false
            },
            ticks    : ticksStyle
          }]
        }
      }
    })
  })

</script>
<!--End Bar Charts Scripts-->
{% endblock js %}